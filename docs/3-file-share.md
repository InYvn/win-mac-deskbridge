# 📂 极速文件传输 (File Tunnel)

本方案采用 **“双轨制”** 策略：
1.  **SMB 协议**：将 Mac 硬盘挂载为 Windows 的网络驱动器，适合大文件读写、代码编辑。
2.  **LocalSend**：适合跨设备临时发送图片、文本，类似 AirDrop。

---

## 方案一：系统级挂载 (SMB) - 推荐

此方案配置一次，终身受用。配置完成后，Mac 的文件夹会像 U 盘一样出现在 Windows 的“此电脑”里。

### 第一步：Mac 端开启共享 (服务端)

1.  **打开设置**：
    * 点击左上角苹果图标  -> **系统设置 (System Settings)**。
2.  **找到共享**：
    * 点击 **通用 (General)** -> **共享 (Sharing)**。
3.  **开启文件共享**：
    * 找到 **文件共享 (File Sharing)**，打开右侧的开关。
    * 点击右侧的 **"i" 图标**（详情/设置）。
4.  **添加共享文件夹**：
    * 在 "共享文件夹 (Shared Folders)" 栏目下，点击 **"+"** 号。
    * 选择你想让 Windows 访问的文件夹（推荐添加“下载”或“桌面”，管理员账号默认可访问所有路径）。
5.  **⚠️ 关键步骤（至关重要！）**：
    * 点击同一个窗口中的 **"选项..." (Options...)** 按钮。
    * 确保勾选 **"使用 SMB 共享文件和文件夹"**。
    * **最重要的一步**：在下方的 "Windows 文件共享" 列表中，**必须勾选你的账户名**。
    * 系统会弹出密码框，输入你的 **Mac 开机密码** 确认。
    * 点击“完成”。
6.  **记下地址**：
    * 在“文件共享”开启的状态下，你会看到一行小字：*“网络上的用户可以通过 smb://192.168.x.x 访问您的电脑”*。
    * **记下这个 IP 地址** (例如 `192.168.1.5`)。

### 第二步：Windows 端连接 (客户端)

1.  **打开运行窗口**：
    * 在 Windows 键盘上按下 `Win + R` 键。
2.  **输入地址**：
    * 输入 Mac 的 IP 地址。
    * **注意**：Windows 必须使用**反斜杠** `\`，不能用 `smb://`。
    * **格式**：`\\192.168.x.x`
    * *(例如：如果 Mac 提示是 192.168.1.5，你就输入 `\\192.168.1.5`)*
    * 点击确定。
3.  **输入身份验证**：
    * Windows 会弹出一个登录框。
    * **用户名**：输入你的 **Mac 用户名**。
        > 💡 **小技巧**：如果不确定用户名是什么，请打开 Mac 终端输入 ````whoami````，显示的那个名字才是正确的系统用户名。
    * **密码**：输入你的 **Mac 开机密码**。
4.  **连接成功**：
    * 如果验证通过，Mac 的共享文件夹就会出现在 Windows 的文件资源管理器里了。

> **进阶技巧：映射为驱动器**
> 在打开的共享文件夹窗口中，右键点击文件夹 -> 选择 **“映射网络驱动器”** -> 分配一个盘符 (如 Z:) -> 勾选“登录时重新连接”。
> 这样以后重启电脑，Z 盘依然存在，无需重复输入 IP。

---

## 方案二：LocalSend (临时快传)

如果你不想配置复杂的网络共享，只想给旁边的电脑发张图，**LocalSend** 是最佳选择。它是开源免费的 AirDrop 替代品。

1.  **下载与安装**：
    * 分别在 Mac 和 Windows 上下载并安装 [LocalSend](https://localsend.org)。
2.  **使用方法**：
    * 确保两台设备连接在同一个 WiFi 下。
    * 打开软件，它们会自动发现对方。
    * 选择文件 -> 点击对方的头像 -> 发送。
3.  **设置建议**：
    * 在设置中开启 **“快速保存 (Quick Save)”**，这样接收文件时不需要手动点“接受”，体验更流畅。

---

## ✅ 配置完成

现在你已经打通了双端的文件传输通道。

请前往最后一节解决音频问题：**[🔊 音频零延迟共享 (Audio Bridge)](./4-audio-share.md)**