# âš¡ï¸ è¿›é˜¶ï¼šè¾“å…¥æ³•è‡ªåŠ¨åˆ‡æ¢ (Hammerspoon)

::: tip ğŸ’¡ ç—›ç‚¹è§£å†³
ä½ æ˜¯å¦é‡åˆ°è¿‡ï¼šé¼ æ ‡ç§»åˆ° Windows åï¼Œæ‰“å­—å´æ²¡ååº”ï¼ˆå› ä¸º Mac è¿˜æ˜¯ä¸­æ–‡è¾“å…¥æ³•ï¼‰ï¼Ÿ
æœ¬æ–¹æ¡ˆåˆ©ç”¨ **Hammerspoon** è„šæœ¬ï¼Œå®ç°**å» Win è‡ªåŠ¨åˆ‡è‹±æ–‡ï¼Œå› Mac è‡ªåŠ¨æ¢å¤**çš„å®Œç¾ä½“éªŒã€‚
:::

## 1. åŸç† (The Magic)
DeskFlow åœ¨æ§åˆ¶ Windows æ—¶ï¼Œä¼šå°† Mac é¼ æ ‡å…‰æ ‡**ç¬ç§»å¹¶é”å®š**åœ¨å±å¹•ä¸­å¿ƒã€‚
æˆ‘ä»¬åˆ©ç”¨è¿™ä¸€ç‰¹å¾ç¼–å†™äº†â€œç¬ç§»æ£€æµ‹è„šæœ¬â€ï¼š
* **æ£€æµ‹å»ç¨‹**ï¼šå½“é¼ æ ‡åœ¨ 0.2ç§’å†…ä»è¾¹ç¼˜ç¬ç§»åˆ°ä¸­å¿ƒ -> åˆ¤å®šä¸ºå» Win -> **å¼ºåˆ¶åˆ‡ ABC**ã€‚
* **æ£€æµ‹å›ç¨‹**ï¼šå½“é¼ æ ‡ç¦»å¼€ä¸­å¿ƒåŒºåŸŸ -> åˆ¤å®šä¸ºå› Mac -> **æ¢å¤ä¹‹å‰çš„è¾“å…¥æ³•**ã€‚

## 2. å®‰è£…ä¸é…ç½®

1.  **å®‰è£… Hammerspoon**ï¼š
    ```bash
    brew install --cask hammerspoon
    ```
    *(æˆ–è€…å» [å®˜ç½‘ä¸‹è½½](https://www.hammerspoon.org/))*

2.  **é…ç½®è„šæœ¬**ï¼š
    * è¿è¡Œ Hammerspoonï¼Œç‚¹å‡»èœå•æ å›¾æ ‡ -> **Open Config**ã€‚
    * å°†ä¸‹æ–¹ä»£ç ç²˜è´´åˆ° `init.lua` æ–‡ä»¶ä¸­ã€‚
    * ä¿®æ”¹ `winPosition` å˜é‡ï¼ˆä½ çš„ Win åœ¨å·¦è¾¹è¿˜æ˜¯å³è¾¹ï¼‰ã€‚

3.  **ç”Ÿæ•ˆ**ï¼š
    * ç‚¹å‡»èœå•æ å›¾æ ‡ -> **Reload Config**ã€‚

## 3. è„šæœ¬ä»£ç 

::: details ç‚¹å‡»å¤åˆ¶ Lua è„šæœ¬ä»£ç 
<<< @/../scripts/auto_input_switch.lua
:::

::: warning âš ï¸ å…³äºâ€œæé€Ÿç§»åŠ¨â€çš„æç¤º
ç”±äºè„šæœ¬é‡‡ç”¨ **0.05ç§’** è½®è¯¢æœºåˆ¶ï¼Œå¦‚æœé¼ æ ‡åˆ’è¿‡å±å¹•è¾¹ç¼˜çš„é€Ÿåº¦**æå¿«**ï¼ˆç¬é—´ç”©è¿‡å»ï¼‰ï¼Œè„šæœ¬å¯èƒ½æ— æ³•æ•æ‰åˆ°â€œè¾¹ç¼˜çŠ¶æ€â€ï¼Œå¯¼è‡´åˆ‡æ¢å¤±æ•ˆã€‚

**å¦‚æœä½ å‘ç°åˆ‡æ¢ä¸çµæ•ï¼Œè¯·å°è¯•ä¿®æ”¹è„šæœ¬ä¸­çš„ä»¥ä¸‹å‚æ•°ï¼š**

1.  **å¢å¤§æ•æ‰èŒƒå›´ï¼ˆæ¨èï¼‰**ï¼š
    æ‰¾åˆ° `local edgeZone = 10`ï¼Œå°†å…¶ä¿®æ”¹ä¸ºæ›´å¤§çš„æ•°å€¼ï¼ˆä¾‹å¦‚ `50` æˆ– `100`ï¼‰ã€‚è¿™ç›¸å½“äºæŠŠâ€œçƒé—¨â€å˜å¤§ï¼Œæ›´å®¹æ˜“æ¥ä½é¼ æ ‡ã€‚
2.  **æé«˜æ£€æµ‹é¢‘ç‡**ï¼š
    æ‰¾åˆ°åº•éƒ¨çš„ `hs.timer.doEvery(0.05, ...)`ï¼Œå°† `0.05` ä¿®æ”¹ä¸º `0.02` æˆ– `0.01`ã€‚è¿™ä¼šç•¥å¾®å¢åŠ  CPU æ¶ˆè€—ï¼Œä½†æ•æ‰æ›´ç²¾å‡†ã€‚
:::

---

## â¡ï¸ ä¸‹ä¸€æ­¥

è§£å†³äº†è¾“å…¥é—®é¢˜åï¼Œæˆ‘ä»¬æ¥æ‰“é€šæ•°æ®ä¼ è¾“é€šé“ã€‚

è¯·å‰å¾€ä¸‹ä¸€èŠ‚ï¼š**[ğŸ“‚ æé€Ÿæ–‡ä»¶ä¼ è¾“ (File Tunnel)](./3-file-share.md)**