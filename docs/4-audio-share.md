# 🔊 音频零延迟共享 (Audio Bridge)

本模块旨在解决“双机党”的音频分裂问题，实现**所有声音统一由 Windows 连接的主音箱/耳机播放**，桌面不再需要两套音箱。

---

## 方案一：硬件直连法 (零延迟，最推荐) 🎧

如果你的 Windows 是台式机，且两台电脑离得不远，这是**一劳永逸、最稳定**的办法。

### 1. 原理与成本
* **原理**：利用一根 3.5mm 对录线（公对公音频线），把 Mac 的模拟音频信号直接“喂”给 Windows 的声卡输入端。
* **成本**：一根线（几块钱）。

### 2. 物理连接
* 将线的一头插在 **Mac 的耳机孔**。
* 将线的另一头插在 **Windows 主机背后** 的 **蓝色孔 (Line-In / 线路输入)**。
    * *注意：通常是蓝色的，不要插到粉色（麦克风）或绿色（耳机）孔。*

### 3. Windows 端设置
我们需要告诉 Windows：“把从 Line-In 听到的声音，实时通过音箱放出来”。

1.  **打开声音设置**：
    * 右键任务栏右下角的音量图标 🔈 -> **声音设置 (Sound Settings)**。
    * 点击底部的 **更多声音设置 (More sound settings)** (Win11) 或直接打开 **声音控制面板** (Win10)。
2.  **配置录制设备**：
    * 切换到 **录制 (Recording)** 标签页。
    * 找到 **线路输入 (Line In)**，右键点击它 -> **属性 (Properties)**。
3.  **开启“侦听”**：
    * 切换到 **侦听 (Listen)** 标签页。
    * ✅ 勾选 **“侦听此设备” (Listen to this device)**。
    * 点击 **应用 (Apply)**。

### 4. 效果与优化
此时，你在 Mac 上播放音乐，声音应该会从 Windows 的音箱里出来，**没有任何延迟**。

> **⚠️ 消除底噪 (电流声)**
> 如果你听到滋滋的电流声（共地干扰），建议在音频线中间串联一个 **“共地隔离器” (Ground Loop Isolator)**。淘宝约 15-20 元，能彻底消除底噪。

---

## 方案二：软件方案 - SonoBus (开源，低延迟) 📶

如果你不想买线，或者用的是笔记本（没有 Line-In 接口），**SonoBus** 是目前最佳的免费开源跨平台音频传输软件。它专为音乐人设计，局域网延迟极低 (<10ms)。

### 第一步：在 Mac 上安装“桥梁” (BlackHole)
macOS 不允许软件直接录制系统声音，我们需要安装虚拟声卡 **BlackHole** 来做中转。

1.  打开 **终端 (Terminal)**。
2.  使用 Homebrew 安装 2 声道版本：
    <三点>bash
    brew install blackhole-2ch
    <三点>
    *(如果没有 Homebrew，也可去 BlackHole 官网下载安装包)*
3.  **重启 Mac** (重要：安装驱动后通常需要重启才能识别)。

### 第二步：配置 Mac 端 (发送方)
我们要把 Mac 的系统声音“倒进” BlackHole，然后让 SonoBus 从 BlackHole 里“舀水”发出去。

1.  **修改 Mac 系统输出**：
    * 点击顶部菜单栏的声音图标（或进入系统设置 -> 声音）。
    * 将 **输出 (Output)** 从“扬声器”改为 **“BlackHole 2ch”**。
    * *⚠️ 注意：此时你的 Mac 会突然没声音了，这是正常的！因为声音都流进虚拟管道里了。*
2.  **配置 SonoBus 输入**：
    * 打开 SonoBus，点击左上角的 **设置 ⚙️ 图标** (Input Setup)。
    * **Audio Device (音频设备)**: 选择 `BlackHole 2ch`。
    * **Sample Rate**: 建议选 `48000`。
    * **Channel**: 选 `1/2`。
3.  **验证信号**：
    * 此时在 Mac 上放一首歌，观察 SonoBus 左侧的 **绿色电平柱**。如果在跳动，说明声音成功进来了。

### 第三步：配置 Windows 端 (接收方)
我们要让 Windows 接收信号，并通过你的物理音箱放出来。

1.  **配置 SonoBus 输出**：
    * 打开 Windows 上的 SonoBus，点击下方的 **设置 ⚙️ 图标** (Output Setup)。
    * **Output**: 选择你正在用的 **扬声器 (Realtek)** 或 **耳机**。
    * 确保界面右下角的 **Monitor Mix** 推杆是推上去的（默认通常是满的）。
2.  **建立连接**：
    * 两台电脑都点击主界面的 **Connect...** 按钮。
    * 在 **Local Network** 列表中，你应该能直接看到对方的电脑，点击连接即可。

### 第四步：最终调整
连接成功后，Windows 的 SonoBus 界面中间会出现一条代表 Mac 的 **长条轨道 (Track)**。
* 看到轨道上的绿色电平在跳动吗？
* 如果跳动但没声音，检查这个轨道上的 **Mute (静音)** 是否被点亮了，或者把轨道上的音量滑块拉大。

---

## ✅ 全流程结束

🎉 **恭喜！** 到这里，你已经完成了 **键鼠、剪切板、文件、音频** 的全方位互联。
现在，你的 Mac 和 Windows 已经像一台电脑一样协同工作了。